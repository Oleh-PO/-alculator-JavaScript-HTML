<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Calculator</title>
</head>
<body>
 	<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
 	<form id="form" onsubmit="return false;">
    <input  style="position:absolute; top:15%; left:5%; width:41%;" type="submit" onclick="othername();" />
    <input style="position:absolute; top:10%; left:5%; width:40%;" type="text" id="userInput"  oninput="change();"/>
    <h1 id="answer" style="position:absolute;  left:5%;">0</h1>
	</form>
	<script>
 		var numberFull = "";
 		function change(){
 			var numberFull = document.getElementById("userInput").value;
 			if(numberFull.length === 0){
 				$("#answer").text(0);
 			} else {
 				$("#answer").text(numberFull);
 			}
 		};
		function othername() {
			var numberLog1 = 0;
			var f = "";
			var tre = 0;
    		var numberFull = document.getElementById("userInput").value;
   			var numberMeny = "";
			for (var j = 0; j < numberFull.length; j++){ // Роспізнання знауів: "+", "-", "*", "/", "& (квадрат числа)"
				if (numberFull[j] === "+") {
					if(tre < 1){
						var numberLog = "+";
						var q = j;
					} else {
						var q1 = j;
					};
					tre++;
				} else if (numberFull[j] === "-") {
					if(tre < 1){
						var numberLog = "-";
						var q = j;
					} else {
						var q1 = j;
					};
					tre++;
				} else if (numberFull[j] === "*") {
					if(tre < 1){
						var numberLog = "*";
						var q = j;
					} else {
						var q1 = j;
					};
					tre++;
				} else if (numberFull[j] === "/") {
					if(tre < 1){
						var numberLog = "/";
						var q = j;
					} else {
						var q1 = j;
					};
					tre++;
				} else if (numberFull[j] === "&"){
					if(tre < 1){
						var numberLog = "&";
						var q = j;
					} else {
						var q1 = j;
					};
					tre++;
				};
				if (j === 0){
					if(numberFull[0] === "-"){
						var negnumber1 = "-";
					};
				} else if (j === q + 1){
					if(numberFull[q + 1] === "-"){
						var negnumber2 = "-";
					};
				};
			};
			if (tre > 1) {
				var numberLog1 = numberFull[q1];
			};
			var number1 = "";
			for (var n = 0; n < q; n++) { // Розпізнання першого доданка
				var wordTrue = number1 + numberFull[n];
				var number1 = wordTrue;
			};
			q++;
			var number2 = "";
			if(numberLog1 === 0){
				for (var n = q; n < numberFull.length; n++) { // Розпізнання другого доданка
					var wordTrue2 = number2 + numberFull[n];
					var number2 = wordTrue2;
				};
			} else {
				for (var n = q; n < q1; n++) { // Розпізнання другого доданка
					var wordTrue2 = number2 + numberFull[n];
					var number2 = wordTrue2;
				};
			};
			if (numberLog1 !== 0) {
				q1++;
				var number3 = "";
				for (var n = q1; n < numberFull.length; n++) { // Розпізнання третього доданка
					var wordTrue3 = number3 + numberFull[n];
					var number3 = wordTrue3;
				};
			};
			if (negnumber1 === "-") {
				var number1 = "-"  + number1;
			} else if (negnumber1 === "-") {
				var number1 = "-"  + number1;
			};
			var numberTrue = number1; // Перехід з розпізнання до виконання дії
			var number3 = +number3;
			var number2 = +number2;
			var number1 = +number1;
			if (numberLog === "&"){ // Виконування дії
				if(number2 > 0){
					for (var o = 1; o < number2; o++) {
						var numberTrue = numberTrue * number1;
					};
				} else {
					var numberTrue = number1 * number1;
				};
			} else { 
				if (numberLog === "+") {
					var numberTrue = number1 + number2;
				} else if (numberLog === "-"){
					var numberTrue = number1 - number2;
				} else if (numberLog === "*") {
					var numberTrue = number1 * number2;
				} else if (numberLog === "/") {
					var numberTrue = number1 / number2;
				} else {
					var numberTrue = "ERROR";
				};
			};
			if (numberLog1 !== 0) {
				if (numberLog1 === "&") {
					if(number3 > 0){
						var numberTrue = number2;
						for (var o = 1; o < number3; o++) {
							var numberTrue = numberTrue * number2;
						};
						alert("OK1");
					} else {
						var numberTrue = number2 * number2;
						alert("OK2");
					};
					if (numberLog === "+") {
						var numberTrue1 = number1 + numberTrue ;
					} else if (numberLog === "-"){
						var numberTrue1 = number1 - numberTrue ;
					} else if (numberLog === "*") {
						var numberTrue1 = number1 * numberTrue ;
					} else if (numberLog === "/") {
						var numberTrue1 = number1 / numberTrue ;
					} else {
						var numberTrue1 = "ERROR";
					};
				} else if (numberLog1 === "/" || numberLog1 === "*") {
					if (numberLog !== "/" && numberLog !== "*") {
						if (numberLog1 === "*") {
							if (numberLog === "+") {
								var numberTrue1 = number2 * number3 + number1;
							} else if (numberLog === "-"){
								var numberTrue1 = number1 - number2 * number3;
							} else if (numberLog === "*") {
								var numberTrue1 = number2 * number3 * number1;
							} else if (numberLog === "/") {
								var numberTrue1 = number2 * number3 / number1;
							} else {
								var numberTrue1 = "ERROR";
							};
						} else {
							if (numberLog === "+") {
								var numberTrue1 = number2 / number3 + number1;
							} else if (numberLog === "-"){
								var numberTrue1 = number1 - number2 / number3;
							} else if (numberLog === "*") {
								var numberTrue1 = number2 / number3 * number1;
							} else if (numberLog === "/") {
								var numberTrue1 = number2 / number3 / number1;
							} else {
								var numberTrue1 = "ERROR";
							};
						};
					} else {
						if (numberLog1 === "+") {
							var numberTrue1 = numberTrue + number3;
						} else if (numberLog1 === "-"){
							var numberTrue1 = numberTrue - number3;
						} else if (numberLog1 === "*") {
							var numberTrue1 = numberTrue * number3;
						} else if (numberLog1 === "/") {
							var numberTrue1 = numberTrue / number3;
						} else {
							var numberTrue1 = "ERROR";
						};
					};
				} else {
					if (numberLog1 === "+") {
						var numberTrue1 = numberTrue + number3;
					} else if (numberLog1 === "-"){
						var numberTrue1 = numberTrue - number3;
					} else if (numberLog1 === "*") {
						var numberTrue1 = numberTrue * number3;
					} else if (numberLog1 === "/") {
						var numberTrue1 = numberTrue / number3;
					} else {
						var numberTrue1 = "ERROR";
					};
				};
				$("#answer").text(numberFull + "=" + numberTrue1);
			} else {
				$("#answer").text(numberFull + "=" + numberTrue);
			};
		};
	</script>
</body>
</html>
