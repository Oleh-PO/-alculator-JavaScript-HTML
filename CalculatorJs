<!DOCTYPE html>
<html>
<head>
  <title>КАЛкулятор</title>
</head>

<body>
	<h1 id = "heading">Калкулятор</h1>
	<script>
		for (var i = 1; i > 0; i--){ //Перезапуск
			var numberFull = prompt("number"); 
			while (numberFull === null){ // Перевірка на нажаття "скасувати"
				var numberFull = prompt("number");
			};
			for (var j = 0; j < numberFull.length; j++){ // Роспізнання знауів: "+", "-", "*", "/", "& (квадрат числа)"
				if (numberFull[j] === "+") {
					var numberLog = "+";
					var q = j;
				} else if (numberFull[j] === "-") {
					var numberLog = "-";
					var q = j;
				} else if (numberFull[j] === "*") {
					var numberLog = "*";
					var q = j;
				} else if (numberFull[j] === "/") {
					var numberLog = "/";
					var q = j;
				} else if (numberFull[j] === "&"){
					var numberLog = "&";
					var q = j;
				};
				if (j === 0){
					if(numberFull[0] === "-"){
						var negnumber1 = "-";
					};
				} else if (j === q + 1){
					if(numberFull[q + 1] === "-"){
						var negnumber2 = "-";
					};
				};
			};
						var number1 = "";
			console.log(numberLog);
			for (var n = 0; n < q; n++) { // Розпізнання першого доданка
				var wordTrue = number1 + numberFull[n];
				var number1 = wordTrue;
				console.log(number1);
			};
			q++;
			var number2 = "";
			for (var n = q; n < numberFull.length; n++) { // Розпізнання другого доданка
				var wordTrue2 = number2 + numberFull[n];
				var number2 = wordTrue2;
				console.log(number2);
			};
			if (negnumber1 === "-") {
				var number1 = "-"  + number1;
			} else if (negnumber1 === "-") {
				var number1 = "-"  + number1;
			};
			var answer = number1;
			var number2 = +number2;
			var number1 = +number1;
			if (numberLog === "&"){ // Виконування дії
				if(number2 > 0){
					for (var o = 1; o < number2; o++) {
						var answer = answer * number1;
					};
					alert(answer);
				} else {
					console.log(number1+" * "+number1+" ="+number1*number1 );
					alert(number1*number1);
				};
			} else { 
				if (numberLog === "+") {
					var numberTrue = number1 + number2;
					alert(numberTrue);
					console.log(number1 + number2);
				} else if (numberLog === "-"){
					var numberTrue = number1 - number2;
					alert(numberTrue);
					console.log(number1 - number2);
				} else if (numberLog === "*") {
					var numberTrue = number1 * number2;
					alert(numberTrue);
					console.log(number1 * number2);
				} else if (numberLog === "/") {
					var numberTrue = number1 / number2;
					alert(numberTrue);
					console.log(number1 / number2);	
				} else {
					alert("ERROR");
				};
			};
			var restart = confirm("restart?");
				if(restart){
					i++;
				};
			if(numberLog !== "&"){
				console.log(number1 + " " + numberLog + " " + number2 + " = " + numberTrue);
			};
		};
	</script>
</body>
</html>
